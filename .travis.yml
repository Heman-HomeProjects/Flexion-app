language: java

jdk:
  - openjdk8

install: true

branches:
  only:
    - main

# MAVEN PROJECTS ONLY:
cache:
  directories:
    - $HOME/.m2
    - node
    - node_modules

env:
  global:
    - DEPLOY_BUCKET=flexion-master
    # - DEPLOY_BUCKET_PREFIX=exampleco # optional if using a shared deployment bucket
    - DEPLOY_BRANCHES=main # optional - all branches defined in "branches" above is the default
    # MAVEN PROJECTS:
    - DEPLOY_SOURCE_DIR=$TRAVIS_BUILD_DIR/site/target # optional - if your war file is somewhere other than ./target
    # GRADLE PROJECTS:
    #- DEPLOY_SOURCE_DIR=$TRAVIS_BUILD_DIR/site/build/libs # optional - if your war file is somewhere other than ./target
    #- GRADLE_PARAMS="optional additional paremters to pass along to gradle if using build-gradle.sh"

before_script:
  - git clone https://github.com/Heman-HomeProjects/Flexion-app.git
  - cp Flexion-app/app/ ~/.m2/app # optional

script:
  # MAVEN PROJECTS:
  - Flexion-app/deploy.sh
  # GRADLE PROJECTS:
  #- travis-s3-deploy/build-gradle.sh && travis-s3-deploy/deploy.sh
